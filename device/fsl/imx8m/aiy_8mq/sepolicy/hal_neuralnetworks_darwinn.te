type darwinn_device, dev_type, mlstrustedobject;
type hal_darwinn_hwservice, hwservice_manager_type;
type hal_neuralnetworks_darwinn_beagle_pci, domain;
hal_server_domain(hal_neuralnetworks_darwinn_beagle_pci, hal_neuralnetworks)
type hal_neuralnetworks_darwinn_beagle_pci_exec, exec_type, vendor_file_type, file_type;
init_daemon_domain(hal_neuralnetworks_darwinn_beagle_pci)
# Darwinn Hidl service.
add_hwservice(hal_neuralnetworks_darwinn_beagle_pci, hal_darwinn_hwservice)
# Open the device at /dev
allow hal_neuralnetworks_darwinn_beagle_pci darwinn_device:chr_file { read write open map ioctl getattr };
# The TPU HAL looks for TPU instance in /sys/class
allow hal_neuralnetworks_darwinn_beagle_pci sysfs:dir { read open };
# Allow DarwiNN service to use a client-provided fd residing in /vendor/etc/.
allow hal_neuralnetworks_darwinn_beagle_pci vendor_configs_file:file {read getattr map};
vndbinder_use(hal_neuralnetworks_darwinn_beagle_pci);
